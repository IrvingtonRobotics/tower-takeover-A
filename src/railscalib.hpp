#ifndef SRC_RAILSCALIB_H_
#define SRC_RAILSCALIB_H_

typedef struct {
  float theta;
  float dtheta_dt;
  float dtheta_dtt;
} RailsintPoint;

float getDesiredRailsSpeed(float theta);

// sorted in decreasing order by theta
// precomputed
const RailsintPoint railsintPoints[] = {
	{1.570796,0.000000,-2.726993},
	{1.570786,0.007537,-2.727239},
	{1.570755,0.015075,-2.727723},
	{1.570703,0.022613,-2.728454},
	{1.570630,0.030154,-2.729430},
	{1.570536,0.037698,-2.730649},
	{1.570421,0.045245,-2.732112},
	{1.570286,0.052796,-2.733820},
	{1.570129,0.060352,-2.735772},
	{1.569952,0.067913,-2.737968},
	{1.569754,0.075480,-2.740409},
	{1.569535,0.083054,-2.743095},
	{1.569295,0.090636,-2.746026},
	{1.569034,0.098225,-2.749202},
	{1.568752,0.105824,-2.752624},
	{1.568449,0.113431,-2.756291},
	{1.568125,0.121049,-2.760204},
	{1.567780,0.128678,-2.764363},
	{1.567414,0.136318,-2.768769},
	{1.567026,0.143970,-2.773422},
	{1.566618,0.151636,-2.778322},
	{1.566188,0.159315,-2.783470},
	{1.565737,0.167008,-2.788865},
	{1.565265,0.174715,-2.794509},
	{1.564771,0.182439,-2.800403},
	{1.564256,0.190179,-2.806545},
	{1.563720,0.197936,-2.812937},
	{1.563162,0.205710,-2.819579},
	{1.562583,0.213503,-2.826471},
	{1.561982,0.221315,-2.833616},
	{1.561360,0.229146,-2.841011},
	{1.560716,0.236998,-2.848659},
	{1.560050,0.244871,-2.856560},
	{1.559362,0.252766,-2.864713},
	{1.558652,0.260684,-2.873121},
	{1.557921,0.268625,-2.881784},
	{1.557168,0.276590,-2.890701},
	{1.556392,0.284579,-2.899875},
	{1.555594,0.292594,-2.909305},
	{1.554775,0.300634,-2.918992},
	{1.553933,0.308702,-2.928937},
	{1.553068,0.316797,-2.939140},
	{1.552181,0.324920,-2.949602},
	{1.551272,0.333072,-2.960324},
	{1.550340,0.341254,-2.971308},
	{1.549386,0.349466,-2.982553},
	{1.548409,0.357710,-2.994060},
	{1.547408,0.365985,-3.005831},
	{1.546385,0.374292,-3.017866},
	{1.545340,0.382633,-3.030166},
	{1.544270,0.391008,-3.042732},
	{1.543178,0.399418,-3.055564},
	{1.542063,0.407863,-3.068663},
	{1.540924,0.416344,-3.082031},
	{1.539761,0.424862,-3.095668},
	{1.538575,0.433418,-3.109575},
	{1.537365,0.442012,-3.123753},
	{1.536132,0.450646,-3.138204},
	{1.534874,0.459319,-3.152928},
	{1.533593,0.468033,-3.167926},
	{1.532287,0.476789,-3.183198},
	{1.530957,0.485587,-3.198747},
	{1.529603,0.494427,-3.214574},
	{1.528224,0.503312,-3.230678},
	{1.526821,0.512241,-3.247062},
	{1.525393,0.521215,-3.263726},
	{1.523940,0.530235,-3.280671},
	{1.522462,0.539303,-3.297899},
	{1.520959,0.548417,-3.315411},
	{1.519430,0.557581,-3.333207},
	{1.517876,0.566793,-3.351290},
	{1.516297,0.576055,-3.369659},
	{1.514692,0.585368,-3.388317},
	{1.513061,0.594733,-3.407264},
	{1.511405,0.604150,-3.426502},
	{1.509722,0.613620,-3.446031},
	{1.508013,0.623145,-3.465854},
	{1.506277,0.632724,-3.485970},
	{1.504515,0.642358,-3.506382},
	{1.502726,0.652049,-3.527091},
	{1.500911,0.661797,-3.548097},
	{1.499068,0.671604,-3.569403},
	{1.497198,0.681469,-3.591009},
	{1.495301,0.691394,-3.612917},
	{1.493377,0.701379,-3.635128},
	{1.491424,0.711426,-3.657642},
	{1.489444,0.721535,-3.680463},
	{1.487436,0.731707,-3.703590},
	{1.485399,0.741943,-3.727025},
	{1.483334,0.752244,-3.750770},
	{1.481241,0.762611,-3.774825},
	{1.479119,0.773044,-3.799192},
	{1.476968,0.783544,-3.823873},
	{1.474788,0.794112,-3.848868},
	{1.472578,0.804750,-3.874179},
	{1.470339,0.815457,-3.899807},
	{1.468071,0.826236,-3.925754},
	{1.465772,0.837086,-3.952020},
	{1.463443,0.848009,-3.978608},
	{1.461085,0.859005,-4.005518},
	{1.458695,0.870075,-4.032752},
	{1.456275,0.881221,-4.060311},
	{1.453824,0.892443,-4.088197},
	{1.451342,0.903742,-4.116410},
	{1.448828,0.915119,-4.144952},
	{1.446283,0.926575,-4.173824},
	{1.443707,0.938111,-4.203029},
	{1.441098,0.949727,-4.232565},
	{1.438457,0.961425,-4.262437},
	{1.435783,0.973206,-4.292643},
	{1.433077,0.985070,-4.323186},
	{1.430338,0.997018,-4.354067},
	{1.427566,1.009052,-4.385287},
	{1.424760,1.021172,-4.416847},
	{1.421921,1.033380,-4.448748},
	{1.419048,1.045675,-4.480993},
	{1.416141,1.058060,-4.513581},
	{1.413199,1.070535,-4.546514},
	{1.410223,1.083100,-4.579793},
	{1.407212,1.095758,-4.613419},
	{1.404166,1.108509,-4.647394},
	{1.401085,1.121353,-4.681717},
	{1.397968,1.134293,-4.716391},
	{1.394815,1.147328,-4.751416},
	{1.391626,1.160460,-4.786794},
	{1.388400,1.173690,-4.822525},
	{1.385138,1.187018,-4.858610},
	{1.381839,1.200447,-4.895050},
	{1.378502,1.213976,-4.931846},
	{1.375128,1.227606,-4.968999},
	{1.371716,1.241340,-5.006509},
	{1.368266,1.255177,-5.044377},
	{1.364778,1.269119,-5.082604},
	{1.361251,1.283166,-5.121190},
	{1.357685,1.297320,-5.160137},
	{1.354080,1.311582,-5.199445},
	{1.350435,1.325952,-5.239114},
	{1.346750,1.340432,-5.279144},
	{1.343025,1.355023,-5.319537},
	{1.339260,1.369725,-5.360292},
	{1.335454,1.384540,-5.401409},
	{1.331607,1.399468,-5.442890},
	{1.327718,1.414512,-5.484734},
	{1.323788,1.429670,-5.526941},
	{1.319815,1.444946,-5.569511},
	{1.315800,1.460339,-5.612444},
	{1.311743,1.475851,-5.655741},
	{1.307642,1.491482,-5.699401},
	{1.303498,1.507234,-5.743424},
	{1.299311,1.523108,-5.787808},
	{1.295079,1.539105,-5.832555},
	{1.290803,1.555225,-5.877663},
	{1.286482,1.571469,-5.923132},
	{1.282117,1.587840,-5.968961},
	{1.277705,1.604337,-6.015149},
	{1.273248,1.620962,-6.061697},
	{1.268745,1.637715,-6.108602},
	{1.264195,1.654598,-6.155863},
	{1.259599,1.671612,-6.203479},
	{1.254955,1.688757,-6.251449},
	{1.250264,1.706035,-6.299772},
	{1.245525,1.723447,-6.348445},
	{1.240737,1.740993,-6.397468},
	{1.235901,1.758674,-6.446838},
	{1.231016,1.776492,-6.496554},
	{1.226081,1.794447,-6.546614},
	{1.221097,1.812541,-6.597015},
	{1.216062,1.830774,-6.647755},
	{1.210977,1.849147,-6.698831},
	{1.205840,1.867661,-6.750240},
	{1.200653,1.886318,-6.801981},
	{1.195413,1.905117,-6.854050},
	{1.190122,1.924061,-6.906443},
	{1.184778,1.943149,-6.959158},
	{1.179381,1.962383,-7.012192},
	{1.173930,1.981763,-7.065540},
	{1.168426,2.001291,-7.119199},
	{1.162868,2.020967,-7.173163},
	{1.157255,2.040792,-7.227430},
	{1.151587,2.060768,-7.281995},
	{1.145863,2.080894,-7.336853},
	{1.140084,2.101172,-7.391999},
	{1.134249,2.121602,-7.447428},
	{1.128357,2.142185,-7.503136},
	{1.122407,2.162922,-7.559117},
	{1.116401,2.183814,-7.615364},
	{1.110336,2.204862,-7.671871},
	{1.104213,2.226066,-7.728633},
	{1.098031,2.247426,-7.785642},
	{1.091790,2.268944,-7.842892},
	{1.085489,2.290621,-7.900377},
	{1.079128,2.312456,-7.958088},
	{1.072706,2.334450,-8.016019},
	{1.066224,2.356605,-8.074161},
	{1.059680,2.378921,-8.132507},
	{1.053074,2.401398,-8.191047},
	{1.046405,2.424036,-8.249773},
	{1.039674,2.446837,-8.308675},
	{1.032880,2.469801,-8.367745}
};

const int RAILSINT_SIZE = sizeof(railsintPoints)/sizeof(*railsintPoints);

#endif
